<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "de" }}" {{ if .Site.Params.darkMode }}data-theme="light"{{ end }}>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ .Description | default .Site.Params.description }}">
    <meta name="author" content="{{ .Site.Params.author }}">
    <meta name="robots" content="index, follow">

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ .Permalink }}">

    <title>{{ if eq .Title .Site.Title }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:title" content="{{ if eq .Title .Site.Title }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="og:description" content="{{ .Description | default .Site.Params.description }}">
    <meta property="og:image" content="{{ .Site.BaseURL }}images/eliza-logo.svg">
    <meta property="og:locale" content="de_CH">
    <meta property="og:site_name" content="{{ .Site.Title }}">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ if eq .Title .Site.Title }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta name="twitter:description" content="{{ .Description | default .Site.Params.description }}">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ "favicon.ico" | relURL }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ "favicon-32x32.png" | relURL }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ "favicon-16x16.png" | relURL }}">
    <link rel="apple-touch-icon" href="{{ "apple-touch-icon.png" | relURL }}">

    <!-- Critical CSS fÃ¼r sofortiges Rendering -->
    <style>
        :root{--sidenav-width:300px;--topbar-height:64px;--bg-primary:#fff;--bg-secondary:#fafafa;--text-primary:rgba(0,0,0,.87)}
        [data-theme="dark"]{--bg-primary:#121212;--bg-secondary:#1e1e1e;--text-primary:rgba(255,255,255,.87)}
        body{font-family:'Roboto',system-ui,sans-serif;background:var(--bg-secondary);color:var(--text-primary);margin:0}
        body.with-sidebar{padding-left:var(--sidenav-width)}
        @media(max-width:992px){body.with-sidebar{padding-left:0}}
        .sidenav{position:fixed;width:var(--sidenav-width);height:100vh;background:var(--bg-primary);z-index:999;overflow-y:auto}
        @media(max-width:992px){.sidenav{transform:translateX(-105%)}}
        .topbar{position:fixed;top:0;right:0;left:var(--sidenav-width);height:var(--topbar-height);background:var(--bg-primary);z-index:998}
        @media(max-width:992px){.topbar{left:0}}
        main{padding-top:calc(var(--topbar-height) + 24px)}
    </style>

    <!-- DNS Prefetch & Preconnect fÃ¼r externe Ressourcen -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://code.jquery.com" crossorigin>
    <link rel="dns-prefetch" href="https://stats.myeliza.ch">

    <!-- Google Fonts mit font-display=swap -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"></noscript>

    <!-- Material Icons mit font-display=swap -->
    <link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap"></noscript>

    <!-- MaterializeCSS (async laden) -->
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"></noscript>

    <!-- ELIZA Custom Styles -->
    <link rel="stylesheet" href="{{ "css/eliza-docs.css" | relURL }}">

    <!-- Plausible Analytics (cookieless, DSGVO-konform) -->
    <script defer data-domain="docs.eliza.swiss" src="https://stats.myeliza.ch/js/script.js"></script>

    {{ block "head" . }}{{ end }}
</head>

<body class="with-sidebar">
    <!-- ============================================ -->
    <!-- HEADER mit Sidenav und Topbar               -->
    <!-- ============================================ -->
    <header>
        {{ partial "sidenav.html" . }}
        {{ partial "topbar.html" . }}
    </header>

    <!-- ============================================ -->
    <!-- SIDENAV OVERLAY (Mobile)                    -->
    <!-- ============================================ -->
    <div class="sidenav-overlay" id="sidenav-overlay" onclick="closeSidenav()"></div>

    <!-- ============================================ -->
    <!-- MAIN Content                                -->
    <!-- ============================================ -->
    <main>
        {{ block "main" . }}
            <div class="content">
                {{ .Content }}
            </div>
        {{ end }}
    </main>

    <!-- ============================================ -->
    <!-- FOOTER                                      -->
    <!-- ============================================ -->
    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col s12">
                    <p class="footer-content">
                        <span class="footer-company">ELIZA AG</span>
                        <span class="footer-separator">|</span>
                        <span class="footer-address">Dammweg 9, CH-3013 Bern</span>
                        <span class="footer-separator">|</span>
                        <a href="mailto:hello@eliza.swiss" class="footer-email">hello@eliza.swiss</a>
                        <span class="footer-separator">|</span>
                        <a href="https://eliza.swiss" target="_blank" class="footer-link">eliza.swiss</a>
                        <span class="swiss-badge">ðŸ‡¨ðŸ‡­</span>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery (defer fÃ¼r nicht-blockierendes Laden) -->
    <script defer src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- MaterializeCSS JS (defer) -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <!-- ELIZA Docs JS (defer) -->
    <script defer src="{{ "js/eliza-docs.js" | relURL }}"></script>

    {{ block "scripts" . }}{{ end }}
</body>
</html>
